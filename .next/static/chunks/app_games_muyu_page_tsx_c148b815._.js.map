{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://E%3A/Coding/Cursor/Game/app/games/muyu/page.tsx"],"sourcesContent":["\"use client\"; // 標示這是客戶端組件\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport Image from \"next/image\";\r\n\r\n// 定義主題類型\r\ntype Theme = {\r\n  background: string; // 背景樣式\r\n  textColor: string; // 文字顏色\r\n};\r\n\r\n// 定義主題集合類型\r\ntype ThemeSet = {\r\n  name: string; // 主題名稱\r\n  theme: Theme; // 主題樣式\r\n  woodFish: {\r\n    name: string; // 木魚名稱\r\n    image: string; // 木魚圖片路徑\r\n    size: number; // 木魚尺寸\r\n  };\r\n  sound: string; // 敲擊音效路徑\r\n};\r\n\r\n// 浮動數字組件：顯示點擊後的動畫效果\r\nconst FloatingNumber = ({\r\n  x,\r\n  y,\r\n  theme,\r\n}: {\r\n  x: number; // X座標\r\n  y: number; // Y座標\r\n  theme: Theme; // 主題樣式\r\n}) => (\r\n  <div\r\n    className={`absolute text-2xl font-bold pointer-events-none animate-float font-cute ${theme.textColor}`}\r\n    style={{ left: x, top: y }}\r\n  >\r\n    歐趴+1\r\n  </div>\r\n);\r\n\r\n// 預設主題集合\r\nconst themeSets: ThemeSet[] = [\r\n  {\r\n    name: \"傳統禪意\",\r\n    theme: {\r\n      background: \"bg-gradient-to-b from-black to-gray-900\",\r\n      textColor: \"text-gray-600\",\r\n    },\r\n    woodFish: { name: \"傳統木魚\", image: \"/muyu.png\", size: 250 },\r\n    sound: \"/muyu.mp3\",\r\n  },\r\n  {\r\n    name: \"金玉良緣\",\r\n    theme: {\r\n      background: \"bg-gradient-to-b from-gray-800 to-black\",\r\n      textColor: \"text-amber-600\",\r\n    },\r\n    woodFish: { name: \"金邊木魚\", image: \"/muyu1.png\", size: 250 },\r\n    sound: \"/muyu1.mp3\",\r\n  },\r\n  {\r\n    name: \"現代禪風\",\r\n    theme: {\r\n      background: \"bg-gradient-to-b from-red-400 to-red-900\",\r\n      textColor: \"text-brown-100\",\r\n    },\r\n    woodFish: { name: \"玉石木魚\", image: \"/muyu2.png\", size: 250 },\r\n    sound: \"/muyu2.mp3\",\r\n  },\r\n];\r\n\r\nexport default function Home() {\r\n  // 狀態管理\r\n  const [count, setCount] = useState(0); // 計數器\r\n  const [isAnimating, setIsAnimating] = useState(false); // 動畫狀態\r\n  const [floatingNumbers, setFloatingNumbers] = useState<\r\n    Array<{ id: number; x: number; y: number }>\r\n  >([]);  // 浮動數字陣列\r\n  const [audio, setAudio] = useState<HTMLAudioElement | null>(null); // 音效物件\r\n  const [currentSet, setCurrentSet] = useState(themeSets[1]); // 當前主題(為金玉良緣)\r\n\r\n  // 當主題改變時更新音效\r\n  useEffect(() => {\r\n    setAudio(new Audio(currentSet.sound));\r\n  }, [currentSet.sound]);\r\n\r\n  // 處理敲擊事件\r\n  const handleKnock = (e: React.MouseEvent<HTMLDivElement>) => {\r\n    // 計算點擊位置\r\n    const rect = e.currentTarget.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n    const id = Date.now();\r\n\r\n    // 播放音效\r\n    if (audio) {\r\n      audio.currentTime = 0;\r\n      audio.play();\r\n    }\r\n    \r\n    // 更新計數器\r\n    setCount((prev) => prev + 1);\r\n    \r\n    // 觸發動畫效果\r\n    setIsAnimating(true);\r\n    setTimeout(() => setIsAnimating(false), 200);\r\n\r\n    // 新增浮動數字\r\n    setFloatingNumbers((prev) => [...prev, { id, x, y }]);\r\n    \r\n    // 2.5秒後移除浮動數字\r\n    setTimeout(() => {\r\n      setFloatingNumbers((prev) => prev.filter((num) => num.id !== id));\r\n    }, 2500);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`min-h-screen flex flex-col items-center justify-center ${currentSet.theme.background}`}\r\n    >\r\n      {/* 標題 */}\r\n      <h1\r\n        className={`text-5xl font-bold mb-8 ${currentSet.theme.textColor} font-cute`}\r\n      >\r\n        歐趴木魚\r\n      </h1>\r\n\r\n      {/* 主題選擇按鈕 */}\r\n      <div className=\"flex gap-4 mb-8\">\r\n        {themeSets.map((set) => (\r\n          <button\r\n            key={set.name}\r\n            onClick={() => setCurrentSet(set)}\r\n            className={`px-3 py-1.5 rounded-lg font-cute ${\r\n              currentSet.name === set.name\r\n                ? `${set.theme.background} text-white`\r\n                : `bg-white ${set.theme.textColor}`\r\n            }`}\r\n          >\r\n            {set.name}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* 木魚圖片和點擊區域 */}\r\n      <div\r\n        className={`relative cursor-[url('/bat.svg'),auto] transition-transform duration-200 ${\r\n          isAnimating ? \"scale-90\" : \"\"\r\n        }`}\r\n        onClick={handleKnock}\r\n      >\r\n        <Image\r\n          src={currentSet.woodFish.image}\r\n          alt={currentSet.woodFish.name}\r\n          width={currentSet.woodFish.size}\r\n          height={currentSet.woodFish.size}\r\n          draggable=\"false\"\r\n          className=\"rounded-full drop-shadow-lg hover:drop-shadow-2xl transition-shadow duration-300\"\r\n        />\r\n        {/* 浮動數字動畫 */}\r\n        {floatingNumbers.map((num) => (\r\n          <FloatingNumber\r\n            key={num.id}\r\n            x={num.x}\r\n            y={num.y}\r\n            theme={currentSet.theme}\r\n          />\r\n        ))}\r\n      </div>\r\n\r\n      {/* 計數器顯示 */}\r\n      <div\r\n        className={`mt-8 text-2xl font-bold font-cute ${currentSet.theme.textColor}`}\r\n      >\r\n        歐趴數：{count}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}